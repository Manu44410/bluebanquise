#jinja2: lstrip_blocks: True
#### BlueBanquise file ####
## {{ansible_managed}}
# This file describes the network interfaces available on your system
# For more information, see netplan(5).

{% import 'j2_macros.j2' as j2 with context %}

network:
  version: 2
  renderer: networkd
{% for nic in network_interfaces %}
{% set item = nic %}
  ethernets:
  {% if (nic.type is not defined) or (nic.type is defined and nic.type is none) or (nic.type is defined and nic.type == 'ethernet') %}
    {{ nic.conn_name | default(nic.interface) | string }}:
      dhcp4: no
      addresses:
        - {{ j2.nic_ip4_macro(nic) | trim }}

      #gateway4: 192.168.1.1
      #nameservers:
      #  addresses: [8.8.8.8,8.8.4.4]
  {% endif %}
{% endfor %}
